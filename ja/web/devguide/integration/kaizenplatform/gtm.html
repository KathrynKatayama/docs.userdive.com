<!DOCTYPE HTML><html lang="ja"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Google Tag Managerを利用する | USERDIVE へようこそ</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta name="description" content=""><meta name="generator" content="GitBook 2.6.7"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../gitbook/images/apple-touch-icon-precomposed-152.png"><link rel="shortcut icon" href="../../../../gitbook/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="../../../../gitbook/style.css"><link rel="stylesheet" href="../../../../gitbook/plugins/gitbook-plugin-search/search.css"><link rel="stylesheet" href="../../../../gitbook/plugins/gitbook-plugin-fontsettings/website.css"><link rel="stylesheet" href="../../../../gitbook/plugins/gitbook-plugin-highlight/website.css"><link rel="next" href="../../../../web/devguide/integration/kaizenplatform/simple.html"><link rel="prev" href="../../../../web/devguide/integration/kaizenplatform/index.html"></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MQHFVQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MQHFVQ');</script><div class="book" data-level="1.4.1.1" data-chapter-title="Google Tag Managerを利用する" data-filepath="web/devguide/integration/kaizenplatform/gtm.md" data-basepath="../../../.." data-revision="Mon Sep 26 2016 11:13:27 GMT+0000 (UTC)" data-innerlanguage="ja"><div class="book-summary"><nav role="navigation"><ul class="summary"><li class="chapter" data-level="0" data-path="index.html"><a href="../../../../index.html"><i class="fa fa-check"></i> はじめに</a></li><li class="chapter" data-level="1" data-path="web/index.html"><a href="../../../../web/index.html"><i class="fa fa-check"></i> <b>1.</b> Web 解析</a><ul class="articles"><li class="chapter" data-level="1.1" data-path="web/devguide/javascript/index.html"><a href="../../../../web/devguide/javascript/index.html"><i class="fa fa-check"></i> <b>1.1.</b> 計測開始</a></li><li class="chapter" data-level="1.2"><span><b>1.2.</b> ガイド</span><ul class="articles"><li class="chapter" data-level="1.2.1" data-path="web/guide/snapshot.html"><a href="../../../../web/guide/snapshot.html"><i class="fa fa-check"></i> <b>1.2.1.</b> 仮想ページ</a></li><li class="chapter" data-level="1.2.2" data-path="web/devguide/virtualpage.html"><a href="../../../../web/devguide/virtualpage.html"><i class="fa fa-check"></i> <b>1.2.2.</b> 仮想ページの作成</a></li><li class="chapter" data-level="1.2.3"><span><b>1.2.3.</b> フィルタ</span><ul class="articles"><li class="chapter" data-level="1.2.3.1" data-path="web/guide/filter/customvar.html"><a href="../../../../web/guide/filter/customvar.html"><i class="fa fa-check"></i> <b>1.2.3.1.</b> カスタム変数</a></li></ul></li></ul></li><li class="chapter" data-level="1.3" data-path="web/devguide/javascript/api/index.html"><a href="../../../../web/devguide/javascript/api/index.html"><i class="fa fa-check"></i> <b>1.3.</b> API</a><ul class="articles"><li class="chapter" data-level="1.3.1" data-path="web/devguide/javascript/api/create.html"><a href="../../../../web/devguide/javascript/api/create.html"><i class="fa fa-check"></i> <b>1.3.1.</b> create</a><ul class="articles"><li class="chapter" data-level="1.3.1.1" data-path="web/devguide/javascript/api/create/customvar.html"><a href="../../../../web/devguide/javascript/api/create/customvar.html"><i class="fa fa-check"></i> <b>1.3.1.1.</b> customvar</a></li><li class="chapter" data-level="1.3.1.2" data-path="web/devguide/javascript/api/create/overrideurl.html"><a href="../../../../web/devguide/javascript/api/create/overrideurl.html"><i class="fa fa-check"></i> <b>1.3.1.2.</b> overrideUrl</a></li><li class="chapter" data-level="1.3.1.3" data-path="web/devguide/javascript/api/create/cookie.html"><a href="../../../../web/devguide/javascript/api/create/cookie.html"><i class="fa fa-check"></i> <b>1.3.1.3.</b> cookie</a></li><li class="chapter" data-level="1.3.1.4" data-path="web/devguide/javascript/api/create/addiframe.html"><a href="../../../../web/devguide/javascript/api/create/addiframe.html"><i class="fa fa-check"></i> <b>1.3.1.4.</b> addIframe</a></li><li class="chapter" data-level="1.3.1.5" data-path="web/devguide/javascript/api/create/sslautolink.html"><a href="../../../../web/devguide/javascript/api/create/sslautolink.html"><i class="fa fa-check"></i> <b>1.3.1.5.</b> sslAutolink</a></li><li class="chapter" data-level="1.3.1.6" data-path="web/devguide/javascript/api/create/sessionignores.html"><a href="../../../../web/devguide/javascript/api/create/sessionignores.html"><i class="fa fa-check"></i> <b>1.3.1.6.</b> sessionIgnores</a></li></ul></li><li class="chapter" data-level="1.3.2" data-path="web/devguide/javascript/api/analyze.html"><a href="../../../../web/devguide/javascript/api/analyze.html"><i class="fa fa-check"></i> <b>1.3.2.</b> analyze</a></li><li class="chapter" data-level="1.3.3" data-path="web/devguide/javascript/api/setcustomvar.html"><a href="../../../../web/devguide/javascript/api/setcustomvar.html"><i class="fa fa-check"></i> <b>1.3.3.</b> setCustomVar</a></li><li class="chapter" data-level="1.3.4" data-path="web/devguide/javascript/api/changevirtualurl.html"><a href="../../../../web/devguide/javascript/api/changevirtualurl.html"><i class="fa fa-check"></i> <b>1.3.4.</b> changeVirtualUrl</a></li></ul></li><li class="chapter" data-level="1.4"><span><b>1.4.</b> Integration</span><ul class="articles"><li class="chapter" data-level="1.4.1" data-path="web/devguide/integration/kaizenplatform/index.html"><a href="../../../../web/devguide/integration/kaizenplatform/index.html"><i class="fa fa-check"></i> <b>1.4.1.</b> Kaizen Platform</a><ul class="articles"><li class="chapter active" data-level="1.4.1.1" data-path="web/devguide/integration/kaizenplatform/gtm.html"><a href="../../../../web/devguide/integration/kaizenplatform/gtm.html"><i class="fa fa-check"></i> <b>1.4.1.1.</b> Google Tag Managerを利用する</a></li><li class="chapter" data-level="1.4.1.2" data-path="web/devguide/integration/kaizenplatform/simple.html"><a href="../../../../web/devguide/integration/kaizenplatform/simple.html"><i class="fa fa-check"></i> <b>1.4.1.2.</b> HTMLを編集する</a></li></ul></li><li class="chapter" data-level="1.4.2" data-path="web/devguide/integration/optimizely.html"><a href="../../../../web/devguide/integration/optimizely.html"><i class="fa fa-check"></i> <b>1.4.2.</b> Optimizely</a></li><li class="chapter" data-level="1.4.3" data-path="web/devguide/integration/vwo.html"><a href="../../../../web/devguide/integration/vwo.html"><i class="fa fa-check"></i> <b>1.4.3.</b> VWO</a></li></ul></li></ul></li><li class="chapter" data-level="2" data-path="apps/index.html"><a href="../../../../apps/index.html"><i class="fa fa-check"></i> <b>2.</b> アプリ解析</a><ul class="articles"><li class="chapter" data-level="2.1"><span><b>2.1.</b> SDK導入ガイド</span><ul class="articles"><li class="chapter" data-level="2.1.1" data-path="apps/guide/precheck.html"><a href="../../../../apps/guide/precheck.html"><i class="fa fa-check"></i> <b>2.1.1.</b> 対応機種、制限、SDKの基本動作</a></li><li class="chapter" data-level="2.1.2" data-path="apps/guide/signup_account.html"><a href="../../../../apps/guide/signup_account.html"><i class="fa fa-check"></i> <b>2.1.2.</b> アカウント登録</a></li><li class="chapter" data-level="2.1.3" data-path="apps/guide/prepare.html"><a href="../../../../apps/guide/prepare.html"><i class="fa fa-check"></i> <b>2.1.3.</b> チームIDの取得とアプリの登録</a></li></ul></li><li class="chapter" data-level="2.2"><span><b>2.2.</b> 開発ガイド</span><ul class="articles"><li class="chapter" data-level="2.2.1"><span><b>2.2.1.</b> アプリへの組み込み</span><ul class="articles"><li class="chapter" data-level="2.2.1.1" data-path="apps/devguide/integration.html"><a href="../../../../apps/devguide/integration.html"><i class="fa fa-check"></i> <b>2.2.1.1.</b> CocoaPodsでインストール</a></li><li class="chapter" data-level="2.2.1.2" data-path="apps/devguide/integration_manual.html"><a href="../../../../apps/devguide/integration_manual.html"><i class="fa fa-check"></i> <b>2.2.1.2.</b> 手動でインストール</a></li></ul></li><li class="chapter" data-level="2.2.2"><span><b>2.2.2.</b> SDKの実行</span><ul class="articles"><li class="chapter" data-level="2.2.2.1" data-path="apps/devguide/sdk_mode_dev.html"><a href="../../../../apps/devguide/sdk_mode_dev.html"><i class="fa fa-check"></i> <b>2.2.2.1.</b> デベロッパモード</a></li><li class="chapter" data-level="2.2.2.2" data-path="apps/devguide/sdk_mode_tracking.html"><a href="../../../../apps/devguide/sdk_mode_tracking.html"><i class="fa fa-check"></i> <b>2.2.2.2.</b> トラッキングモード</a></li></ul></li><li class="chapter" data-level="2.2.3"><span><b>2.2.3.</b> 動作確認</span><ul class="articles"><li class="chapter" data-level="2.2.3.1" data-path="apps/devguide/sdk_verification_dev.html"><a href="../../../../apps/devguide/sdk_verification_dev.html"><i class="fa fa-check"></i> <b>2.2.3.1.</b> デベロッパモード</a></li><li class="chapter" data-level="2.2.3.2" data-path="apps/devguide/sdk_verification_tracking.html"><a href="../../../../apps/devguide/sdk_verification_tracking.html"><i class="fa fa-check"></i> <b>2.2.3.2.</b> トラッキングモード</a></li></ul></li></ul></li><li class="chapter" data-level="2.3"><span><b>2.3.</b> 仕様</span><ul class="articles"><li class="chapter" data-level="2.3.1" data-path="apps/devguide/tracking_data.html"><a href="../../../../apps/devguide/tracking_data.html"><i class="fa fa-check"></i> <b>2.3.1.</b> トラッキングデータ詳細</a></li></ul></li><li class="chapter" data-level="2.4"><span><b>2.4.</b> API</span><ul class="articles"><li class="chapter" data-level="2.4.1" data-path="apps/devguide/api/start_tracking_mode.html"><a href="../../../../apps/devguide/api/start_tracking_mode.html"><i class="fa fa-check"></i> <b>2.4.1.</b> +(void)startTrackingMode:</a></li><li class="chapter" data-level="2.4.2" data-path="apps/devguide/api/start_tracking_mode_trackers.html"><a href="../../../../apps/devguide/api/start_tracking_mode_trackers.html"><i class="fa fa-check"></i> <b>2.4.2.</b> +(void)startTrackingMode:trackers:</a></li><li class="chapter" data-level="2.4.3" data-path="apps/devguide/api/start_developer_mode.html"><a href="../../../../apps/devguide/api/start_developer_mode.html"><i class="fa fa-check"></i> <b>2.4.3.</b> +(void)startDeveloperMode:</a></li><li class="chapter" data-level="2.4.4" data-path="apps/devguide/api/start_developer_mode_trackers.html"><a href="../../../../apps/devguide/api/start_developer_mode_trackers.html"><i class="fa fa-check"></i> <b>2.4.4.</b> +(void)startDeveloperMode:trackers:</a></li><li class="chapter" data-level="2.4.5" data-path="apps/devguide/api/set_log_enabled.html"><a href="../../../../apps/devguide/api/set_log_enabled.html"><i class="fa fa-check"></i> <b>2.4.5.</b> +(void)setLogEnabled:</a></li><li class="chapter" data-level="2.4.6" data-path="apps/devguide/api/pause.html"><a href="../../../../apps/devguide/api/pause.html"><i class="fa fa-check"></i> <b>2.4.6.</b> +(void)pause</a></li><li class="chapter" data-level="2.4.7" data-path="apps/devguide/api/resume.html"><a href="../../../../apps/devguide/api/resume.html"><i class="fa fa-check"></i> <b>2.4.7.</b> +(void)resume</a></li><li class="chapter" data-level="2.4.8" data-path="apps/devguide/api/update_screen.html"><a href="../../../../apps/devguide/api/update_screen.html"><i class="fa fa-check"></i> <b>2.4.8.</b> +(void)updateScreen</a></li><li class="chapter" data-level="2.4.9" data-path="apps/devguide/api/webview_did_finish_load.html"><a href="../../../../apps/devguide/api/webview_did_finish_load.html"><i class="fa fa-check"></i> <b>2.4.9.</b> +(void)webViewDidFinishLoad:</a></li><li class="chapter" data-level="2.4.10" data-path="apps/devguide/api/set_screen_name.html"><a href="../../../../apps/devguide/api/set_screen_name.html"><i class="fa fa-check"></i> <b>2.4.10.</b> +(void)setScreenName:</a></li><li class="chapter" data-level="2.4.11" data-path="apps/devguide/api/set_custom_field.html"><a href="../../../../apps/devguide/api/set_custom_field.html"><i class="fa fa-check"></i> <b>2.4.11.</b> +(void)setCustomField1:</a></li><li class="chapter" data-level="2.4.12" data-path="apps/devguide/api/set_latitude_longitude_horizontalaccuracy_verticalaccuracy.html"><a href="../../../../apps/devguide/api/set_latitude_longitude_horizontalaccuracy_verticalaccuracy.html"><i class="fa fa-check"></i> <b>2.4.12.</b> +(void)setLatitude:longitude:horizontalAccuracy:verticalAccuracy</a></li></ul></li><li class="chapter" data-level="2.5"><span><b>2.5.</b> FAQ</span><ul class="articles"><li class="chapter" data-level="2.5.1"><span><b>2.5.1.</b> 対応機種・サードパーティーフレームワーク</span><ul class="articles"><li class="chapter" data-level="2.5.1.1" data-path="apps/faq/ipad.html"><a href="../../../../apps/faq/ipad.html"><i class="fa fa-check"></i> <b>2.5.1.1.</b> iPadに対応していますか</a></li><li class="chapter" data-level="2.5.1.2" data-path="apps/faq/android.html"><a href="../../../../apps/faq/android.html"><i class="fa fa-check"></i> <b>2.5.1.2.</b> Androidに対応していますか</a></li><li class="chapter" data-level="2.5.1.3" data-path="apps/faq/unity.html"><a href="../../../../apps/faq/unity.html"><i class="fa fa-check"></i> <b>2.5.1.3.</b> Unityに対応していますか</a></li><li class="chapter" data-level="2.5.1.4" data-path="apps/faq/hybrid_app.html"><a href="../../../../apps/faq/hybrid_app.html"><i class="fa fa-check"></i> <b>2.5.1.4.</b> ハイブリッドアプリに対応していますか</a></li></ul></li><li class="chapter" data-level="2.5.2"><span><b>2.5.2.</b> SDK組み込み作業</span><ul class="articles"><li class="chapter" data-level="2.5.2.1" data-path="apps/faq/filesize.html"><a href="../../../../apps/faq/filesize.html"><i class="fa fa-check"></i> <b>2.5.2.1.</b> SDKファイルサイズについて</a></li><li class="chapter" data-level="2.5.2.2" data-path="apps/faq/resource_usage.html"><a href="../../../../apps/faq/resource_usage.html"><i class="fa fa-check"></i> <b>2.5.2.2.</b> SDKリソース使用量について</a></li><li class="chapter" data-level="2.5.2.3" data-path="apps/faq/how_many_times_to_implement_sdk.html"><a href="../../../../apps/faq/how_many_times_to_implement_sdk.html"><i class="fa fa-check"></i> <b>2.5.2.3.</b> SDKの組み込みはどのくらい時間がかかりますか</a></li></ul></li><li class="chapter" data-level="2.5.3"><span><b>2.5.3.</b> SDKの仕様</span><ul class="articles"><li class="chapter" data-level="2.5.3.1" data-path="apps/faq/how_to_record_user_action.html"><a href="../../../../apps/faq/how_to_record_user_action.html"><i class="fa fa-check"></i> <b>2.5.3.1.</b> どのようにユーザの操作を取得しますか</a></li><li class="chapter" data-level="2.5.3.2" data-path="apps/faq/screenshot.html"><a href="../../../../apps/faq/screenshot.html"><i class="fa fa-check"></i> <b>2.5.3.2.</b> エンドユーザのスクリーンショットを取得しますか</a></li><li class="chapter" data-level="2.5.3.3" data-path="apps/faq/authenticated_view.html"><a href="../../../../apps/faq/authenticated_view.html"><i class="fa fa-check"></i> <b>2.5.3.3.</b> ユーザ認証後のビューをトラッキングできますか</a></li><li class="chapter" data-level="2.5.3.4" data-path="apps/faq/screen_name_length.html"><a href="../../../../apps/faq/screen_name_length.html"><i class="fa fa-check"></i> <b>2.5.3.4.</b> 画面名の長さの上限はありますか</a></li><li class="chapter" data-level="2.5.3.5" data-path="apps/faq/session_in_background.html"><a href="../../../../apps/faq/session_in_background.html"><i class="fa fa-check"></i> <b>2.5.3.5.</b> バックグラウンド状態でセッションは継続しますか</a></li><li class="chapter" data-level="2.5.3.6" data-path="apps/faq/scroll_horizontally.html"><a href="../../../../apps/faq/scroll_horizontally.html"><i class="fa fa-check"></i> <b>2.5.3.6.</b> 横スクロールに対応していますか</a></li><li class="chapter" data-level="2.5.3.7" data-path="apps/faq/session_limit.html"><a href="../../../../apps/faq/session_limit.html"><i class="fa fa-check"></i> <b>2.5.3.7.</b> セッション上限を超えるとどうなりますか</a></li><li class="chapter" data-level="2.5.3.8" data-path="apps/faq/webview.html"><a href="../../../../apps/faq/webview.html"><i class="fa fa-check"></i> <b>2.5.3.8.</b> WebViewに対応していますか</a></li><li class="chapter" data-level="2.5.3.9" data-path="apps/faq/browser_redirect.html"><a href="../../../../apps/faq/browser_redirect.html"><i class="fa fa-check"></i> <b>2.5.3.9.</b> ブラウザにリダイレクトするとどうなりますか</a></li><li class="chapter" data-level="2.5.3.10" data-path="apps/faq/custom_variables.html"><a href="../../../../apps/faq/custom_variables.html"><i class="fa fa-check"></i> <b>2.5.3.10.</b> カスタム変数はいくつまで設定できますか</a></li><li class="chapter" data-level="2.5.3.11" data-path="apps/faq/server_trouble.html"><a href="../../../../apps/faq/server_trouble.html"><i class="fa fa-check"></i> <b>2.5.3.11.</b> オフラインまたはUSERDIVEサーバーがダウンしている場合、アプリにどのような影響がありますか</a></li></ul></li><li class="chapter" data-level="2.5.4"><span><b>2.5.4.</b> 取得可能なイベント</span><ul class="articles"><li class="chapter" data-level="2.5.4.1" data-path="apps/faq/track_location.html"><a href="../../../../apps/faq/track_location.html"><i class="fa fa-check"></i> <b>2.5.4.1.</b> 位置情報は自動的に取得されますか</a></li><li class="chapter" data-level="2.5.4.2" data-path="apps/faq/track_drag_event.html"><a href="../../../../apps/faq/track_drag_event.html"><i class="fa fa-check"></i> <b>2.5.4.2.</b> ドラッグイベントは取得できますか</a></li><li class="chapter" data-level="2.5.4.3" data-path="apps/faq/track_keyboard.html"><a href="../../../../apps/faq/track_keyboard.html"><i class="fa fa-check"></i> <b>2.5.4.3.</b> キーボード入力イベントを取得できますか</a></li></ul></li><li class="chapter" data-level="2.5.5"><span><b>2.5.5.</b> SDK制御</span><ul class="articles"><li class="chapter" data-level="2.5.5.1" data-path="apps/faq/track_sw.html"><a href="../../../../apps/faq/track_sw.html"><i class="fa fa-check"></i> <b>2.5.5.1.</b> アプリを更新せずにトラッキングをオン・オフできますか</a></li><li class="chapter" data-level="2.5.5.2" data-path="apps/faq/track_specified_user.html"><a href="../../../../apps/faq/track_specified_user.html"><i class="fa fa-check"></i> <b>2.5.5.2.</b> 特定のユーザーだけトラッキングできますか</a></li><li class="chapter" data-level="2.5.5.3" data-path="apps/faq/track_wifi.html"><a href="../../../../apps/faq/track_wifi.html"><i class="fa fa-check"></i> <b>2.5.5.3.</b> WiFi接続時のみトラッキングできますか</a></li></ul></li><li class="chapter" data-level="2.5.6"><span><b>2.5.6.</b> 管理画面仕様</span><ul class="articles"><li class="chapter" data-level="2.5.6.1" data-path="apps/faq/country_region.html"><a href="../../../../apps/faq/country_region.html"><i class="fa fa-check"></i> <b>2.5.6.1.</b> 国 / 地域とはなんですか</a></li><li class="chapter" data-level="2.5.6.2" data-path="apps/faq/screen_tracking.html"><a href="../../../../apps/faq/screen_tracking.html"><i class="fa fa-check"></i> <b>2.5.6.2.</b> 画面単位でトラッキングの有無を設定できますか</a></li><li class="chapter" data-level="2.5.6.3" data-path="apps/faq/playback_native_view.html"><a href="../../../../apps/faq/playback_native_view.html"><i class="fa fa-check"></i> <b>2.5.6.3.</b> AlertViewやActionSheetなどのビューをプレイバックできるか</a></li><li class="chapter" data-level="2.5.6.4" data-path="apps/faq/download_raw_data.html"><a href="../../../../apps/faq/download_raw_data.html"><i class="fa fa-check"></i> <b>2.5.6.4.</b> RAWデータをダウンロードできますか</a></li><li class="chapter" data-level="2.5.6.5" data-path="apps/faq/processing_interval.html"><a href="../../../../apps/faq/processing_interval.html"><i class="fa fa-check"></i> <b>2.5.6.5.</b> データの分析結果はいつ確認することが出来ますか</a></li><li class="chapter" data-level="2.5.6.6" data-path="apps/faq/sessionplayback.html"><a href="../../../../apps/faq/sessionplayback.html"><i class="fa fa-check"></i> <b>2.5.6.6.</b> セッションプレイバックは動画ですか</a></li></ul></li></ul></li></ul></li><li class="divider"></li><li><a href="https://www.gitbook.com" target="blank" class="gitbook-link">GitBookで公開</a></li></ul></nav></div><div class="book-body"><div class="body-inner"><div class="book-header" role="navigation"><!-- Actions Left --> <a href="../../../../GLOSSARY.html" class="btn pull-left" aria-label="用語集"><i class="fa fa-sort-alpha-asc"></i></a><!-- Title --><h1><i class="fa fa-circle-o-notch fa-spin"></i> <a href="../../../../">USERDIVE へようこそ</a></h1></div><div class="page-wrapper" tabindex="-1" role="main"><div class="page-inner"><section class="normal" id="section-"><!-- START doctoc generated TOC please keep comment here to allow auto update --><!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --><p><strong>Table of Contents</strong> <em>generated with <a href="https://github.com/thlorenz/doctoc" target="_blank">DocToc</a></em></p><ul><li><a href="#kaizen-platform-%E9%80%A3%E6%90%BAgoogle-tag-manager%E5%88%A9%E7%94%A8">Kaizen Platform &#x9023;&#x643A;(Google Tag Manager&#x5229;&#x7528;)</a><ul><li><a href="#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%BF%E3%82%B0">&#x5FC5;&#x8981;&#x306A;&#x30BF;&#x30B0;</a><ul><li><a href="#kaizen-platform-%E3%82%B9%E3%83%8B%E3%83%9A%E3%83%83%E3%83%88">Kaizen Platform &#x30B9;&#x30CB;&#x30DA;&#x30C3;&#x30C8;</a></li><li><a href="#userdive-%E3%83%AD%E3%83%BC%E3%83%89%E3%82%BF%E3%82%B0">USERDIVE &#x30ED;&#x30FC;&#x30C9;&#x30BF;&#x30B0;</a></li><li><a href="#kaizen-platformuserdive-%E9%80%A3%E6%90%BA%E3%82%BF%E3%82%B0">Kaizen Platform/USERDIVE &#x9023;&#x643A;&#x30BF;&#x30B0;</a></li></ul></li></ul></li></ul><!-- END doctoc generated TOC please keep comment here to allow auto update --><h1 id="kaizen-platform-&#x9023;&#x643A;google-tag-manager&#x5229;&#x7528;">Kaizen Platform &#x9023;&#x643A;(Google Tag Manager&#x5229;&#x7528;)</h1><p><code>Google Tag Manager</code> &#x3092;&#x5229;&#x7528;&#x3057;&#x4E0B;&#x8A18;&#x306E;&#x30BF;&#x30B0;&#x3092;&#x53CD;&#x6620;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x3088;&#x308A;&#x3001; <a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x306B;&#x30C6;&#x30B9;&#x30C8;&#x60C5;&#x5831;&#x3092;&#x5F15;&#x304D;&#x6E21;&#x3059;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x307E;&#x3059;&#x3002;</p><p>&#x307E;&#x305F;&#x3001;&#x3053;&#x3061;&#x3089;&#x306E;&#x624B;&#x9806;&#x3067;&#x306F; <code>Google Tag Manager</code> &#x304C;&#x63D0;&#x4F9B;&#x3059;&#x308B; <code>dataLayer</code> &#x306E;&#x6A5F;&#x80FD;&#x3092;&#x7528;&#x3044;&#x3066;&#x30C6;&#x30B9;&#x30C8;&#x60C5;&#x5831;&#x306E;&#x5F15;&#x304D;&#x6E21;&#x3057;&#x3092;&#x884C;&#x3044;&#x307E;&#x3059;&#x3002;</p><ul><li><a href="https://uncovertruth.github.io/examples/integration/kaizenplatform/gtm.html" target="_blank">(Google Tag Manager examples)</a></li></ul><h2 id="&#x5FC5;&#x8981;&#x306A;&#x30BF;&#x30B0;">&#x5FC5;&#x8981;&#x306A;&#x30BF;&#x30B0;</h2><p>&#x9023;&#x643A;&#x306B;&#x306F;&#x3001;&#x4E0B;&#x8A18;&#x306E;3&#x3064;&#x306E;&#x30BF;&#x30B0;&#x304C;&#x5FC5;&#x8981;&#x306B;&#x306A;&#x308A;&#x307E;&#x3059;&#x3002;</p><ol><li>Kaizen Platform &#x30B9;&#x30CB;&#x30DA;&#x30C3;&#x30C8;</li><li><a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x30ED;&#x30FC;&#x30C9;&#x30BF;&#x30B0;</li><li>Kaizen Platform/<a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x9023;&#x643A;&#x30BF;&#x30B0;</li></ol><h3 id="kaizen-platform-&#x30B9;&#x30CB;&#x30DA;&#x30C3;&#x30C8;">Kaizen Platform &#x30B9;&#x30CB;&#x30DA;&#x30C3;&#x30C8;</h3><p>Kaizen Platfom &#x306E;&#x901A;&#x5E38;&#x306E;&#x30B9;&#x30CB;&#x30DA;&#x30C3;&#x30C8;&#x3068;&#x3001;&#x4E0B;&#x8A18;&#x306E;&#x30BF;&#x30B0;&#x3092;&#x5408;&#x308F;&#x305B;&#x3066;&#x8A2D;&#x5B9A;&#x3057;&#x307E;&#x3059;&#x3002; &#x4E0B;&#x8A18;&#x306E;&#x30B3;&#x30FC;&#x30C9;&#x3067;&#x884C;&#x308F;&#x308C;&#x308B;&#x4E3B;&#x306A;&#x5F79;&#x5272;&#x306F;&#x4EE5;&#x4E0B;&#x306E;2&#x3064;&#x3067;&#x3059;&#x3002;</p><ol><li>Kaizen Platform &#x304C;&#x30C6;&#x30B9;&#x30C8;&#x306E;&#x5185;&#x5BB9;&#x3092;&#x6C7A;&#x5B9A;&#x3059;&#x308B;</li><li>&#x6C7A;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x60C5;&#x5831;&#x3092; <code>dataLayer</code> &#x306B;&#x5BFE;&#x3057;&#x3066; <code>event</code> &#x540D;&#x3092; <code>kzsApply</code> &#x3068;&#x3057;&#x3066;&#x767B;&#x9332;</li></ol><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">data-kz-key</span>=<span class="hljs-value">&quot;XXXXXX&quot;</span>
  <span class="hljs-attribute">data-kz-namespace</span>=<span class="hljs-value">&quot;kzs&quot;</span>
  <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;https://cdn.kaizenplatform.net/y/XX/ZZZZZZZ.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">root</span>) </span>{
  <span class="hljs-keyword">try</span> {
    root.kzs = root.kzs || <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">var</span> _ = root.kzs;
      <span class="hljs-keyword">return</span> (_.q || (_.q = [])).push(<span class="hljs-built_in">arguments</span>);
    };
    root.kzs(<span class="hljs-string">&apos;getVariation&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data, state</span>) </span>{
      <span class="hljs-keyword">var</span> expId;
      <span class="hljs-keyword">var</span> varId;
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">if</span> (state === <span class="hljs-string">&apos;unmatched&apos;</span>) {
          root.dataLayer.push({
            event: <span class="hljs-string">&apos;kzsApply&apos;</span>,
            kzsState: <span class="hljs-built_in">String</span>(state)
          });
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state === <span class="hljs-string">&apos;decided&apos;</span>) {
          expId = data.expId;
          varId = data.variationId;
          root.dataLayer.push({
            event: <span class="hljs-string">&apos;kzsApply&apos;</span>,
            kzsState: <span class="hljs-built_in">String</span>(state),
            kzsExpId: <span class="hljs-built_in">String</span>(expId),
            kzsVarId: <span class="hljs-built_in">String</span>(varId)
          });
        }
      } <span class="hljs-keyword">catch</span> (e) {}
    });
  } <span class="hljs-keyword">catch</span> (e) {}
})(<span class="hljs-built_in">window</span>);
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="undefined">
</span></span></span></code></pre><p>&#x3053;&#x3061;&#x3089;&#x306E;&#x30B9;&#x30CB;&#x30DA;&#x30C3;&#x30C8;&#x306F; <code>Google Tag Manager</code> &#x4E0A;&#x3067; <code>document.write</code> &#x3092;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#x307E;&#x3059;&#x3002;</p><p><img src="img/document_write.png" alt="document.write&#x3092;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;"></p><h3 id="userdive-&#x30ED;&#x30FC;&#x30C9;&#x30BF;&#x30B0;"><a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x30ED;&#x30FC;&#x30C9;&#x30BF;&#x30B0;</h3><p><a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x30ED;&#x30FC;&#x30C9;&#x30BF;&#x30B0;&#x306E;&#x53CD;&#x6620;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3059;&#x3002;</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t,n,c,r,a,s,u</span>)</span>{e.USERDIVEObject=r;e[r]=e[r]||<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{(e[r].queue=e[r].queue||[]).push(<span class="hljs-built_in">arguments</span>)};
s=t.createElement(n);u=t.getElementsByTagName(n)[<span class="hljs-number">0</span>];s.async=<span class="hljs-number">1</span>;s.src=c;s.charset=a;u.parentNode.insertBefore(s,u)
})(<span class="hljs-built_in">window</span>,<span class="hljs-built_in">document</span>,<span class="hljs-string">&quot;script&quot;</span>,<span class="hljs-string">&quot;//harpoon3.<a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">userdive</a>.com/static/UDTracker.js?&quot;</span>+(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime(),<span class="hljs-string">&quot;ud&quot;</span>,<span class="hljs-string">&quot;UTF-8&quot;</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><p><a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x30ED;&#x30FC;&#x30C9;&#x30BF;&#x30B0;&#x306F;&#x3001; &#x4E0B;&#x8A18; <code>Kaizen Platform/USERDIVE&#x9023;&#x643A;&#x30BF;&#x30B0;</code> &#x3088;&#x308A;&#x3082;&#x524D;&#x306B;&#x5B58;&#x5728;&#x3057;&#x3066;&#x3044;&#x308B;&#x5FC5;&#x8981;&#x304C;&#x3042;&#x308A;&#x307E;&#x3059;&#x3002;</p><h3 id="kaizen-platformuserdive-&#x9023;&#x643A;&#x30BF;&#x30B0;">Kaizen Platform/<a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x9023;&#x643A;&#x30BF;&#x30B0;</h3><p>Kaizen Platform &#x9023;&#x643A;&#x30BF;&#x30B0;&#x306E;&#x53CD;&#x6620;&#x306B;&#x306F;&#x4E0B;&#x8A18;&#x306E;2&#x3064;&#x304C;&#x5FC5;&#x8981;&#x3067;&#x3059;&#x3002;</p><ol><li><code>Google Tag Manager</code> &#x4E0A;&#x3067;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x306B;&#x5BFE;&#x3057; <strong>&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x30A4;&#x30D9;&#x30F3;&#x30C8;</strong> &#x3092;&#x8FFD;&#x52A0;&#x3059;&#x308B; <img src="img/custom_event.png" alt="custom event&#x3092;&#x3059;&#x308B;"></li><li>&#x4E0B;&#x8A18;&#x306E;&#x30B3;&#x30FC;&#x30C9;&#x3092;&#x914D;&#x4FE1;&#x3059;&#x308B;&#x30BF;&#x30B0;&#x306B;&#x767B;&#x9332;&#x3057;&#x3001;&#x30C8;&#x30EA;&#x30AC;&#x30FC;&#x3092; <strong>&#x4F5C;&#x6210;&#x3057;&#x305F;&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x30A4;&#x30D9;&#x30F3;&#x30C8;</strong> &#x306E;&#x3082;&#x306E;&#x3067;&#x767B;&#x9332;&#x3057;&#x3001;&#x914D;&#x4FE1;&#x3092;&#x884C;&#x3046;</li></ol><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">userdiveId, root, kzsState, kzsExpId, kzsVarId, data</span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getKzsState</span> (<span class="hljs-params">dataLayer</span>) </span>{
    <span class="hljs-keyword">var</span> i;
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">if</span> (!dataLayer || !dataLayer.length) {
        <span class="hljs-keyword">return</span> {};
      }
      <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; dataLayer.length; i++) {
        <span class="hljs-keyword">if</span> (dataLayer[i].kzsState !== <span class="hljs-literal">undefined</span>) {
          <span class="hljs-keyword">return</span> dataLayer[i];
        }
      }
    } <span class="hljs-keyword">catch</span> (e) {} <span class="hljs-keyword">finally</span> {}
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateUrl</span> (<span class="hljs-params">varId, state</span>) </span>{
    <span class="hljs-keyword">var</span> separator;
    <span class="hljs-keyword">if</span> (state !== <span class="hljs-string">&apos;decided&apos;</span>) {
      <span class="hljs-keyword">return</span>;
    }

    separator = location.search === <span class="hljs-string">&apos;&apos;</span> ? <span class="hljs-string">&apos;?&apos;</span> : <span class="hljs-string">&apos;&amp;&apos;</span>;
    <span class="hljs-keyword">return</span> location.protocol +
      <span class="hljs-string">&apos;//&apos;</span> +
      location.host +
      location.pathname +
      location.search +
      separator +
      <span class="hljs-string">&apos;_kzs_var_id=&apos;</span> +
      varId +
      location.hash;
  }

  data = getKzsState(root.dataLayer);
  kzsState = data.kzsState;
  kzsExpId = data.kzsExpId;
  kzsVarId = data.kzsVarId;

  root.ud(<span class="hljs-string">&apos;create&apos;</span>, userdiveId, {
    <span class="hljs-string">&apos;overrideUrl&apos;</span>: generateUrl(kzsVarId, kzsState),
    <span class="hljs-string">&apos;customVar&apos;</span>: [kzsVarId, kzsExpId]
  });
  root.ud(<span class="hljs-string">&apos;analyze&apos;</span>);
})(<span class="hljs-string">&apos;[ Project Id ]&apos;</span>, <span class="hljs-built_in">window</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Type</th><th style="text-align:left">Required</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">[Project Id]</td><td style="text-align:left">String</td><td style="text-align:left">Yes</td><td style="text-align:left"><a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a> &#x306E;&#x30D7;&#x30ED;&#x30B8;&#x30A7;&#x30AF;&#x30C8;ID&#x3067;&#x3059;&#x3002;</td></tr></tbody></table><p>&#x4E0A;&#x8A18;&#x306E;&#x9023;&#x643A;&#x306B;&#x6210;&#x529F;&#x3057;&#x305F;&#x5834;&#x5408;</p><ul><li><a href="../../../../GLOSSARY.html#userdive" class="glossary-term" title="&#x96E2;&#x8131;&#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x3059;&#x3079;&#x3066;&#x304C;&#x308F;&#x304B;&#x308B; UX &#x89E3;&#x6790;&#x30C4;&#x30FC;&#x30EB;">USERDIVE</a>&#x4E0A;&#x3067;&#x306F;<code>_kzs_var_id</code> &#x3068;&#x3044;&#x3046;&#x30D1;&#x30E9;&#x30E1;&#x30FC;&#x30BF;&#x30FC;&#x4ED8;&#x304D;URL&#x306B;&#x5BFE;&#x3057;&#x3066;&#x30C7;&#x30FC;&#x30BF;&#x306E;&#x8A08;&#x6E2C;&#x304C;&#x958B;&#x59CB;&#x3055;&#x308C;&#x307E;&#x3059;</li><li><strong>&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x5909;&#x6570;1</strong> &#x306B;&#x3066; <code>expId</code>&#x3001; <strong>&#x30AB;&#x30B9;&#x30BF;&#x30E0;&#x5909;&#x6570;2</strong> &#x306B;&#x3066; <code>variationId</code> &#x3092;&#x5229;&#x7528;&#x3057;&#x305F;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x30FC;&#x3092;&#x304B;&#x3051;&#x308B;&#x3053;&#x3068;&#x304C;&#x3067;&#x304D;&#x307E;&#x3059;</li></ul></section></div></div></div><a href="../../../../web/devguide/integration/kaizenplatform/index.html" class="navigation navigation-prev" aria-label="Previous page: Kaizen Platform"><i class="fa fa-angle-left"></i></a> <a href="../../../../web/devguide/integration/kaizenplatform/simple.html" class="navigation navigation-next" aria-label="Next page: HTMLを編集する"><i class="fa fa-angle-right"></i></a></div></div><script src="../../../../gitbook/app.js"></script><script src="../../../../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script><script src="../../../../gitbook/plugins/gitbook-plugin-github/plugin.js"></script><script src="../../../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script><script src="../../../../gitbook/plugins/gitbook-plugin-search/search.js"></script><script src="../../../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script><script src="../../../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script><script>require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/uncovertruth/docs.userdive.com/tree/master","label":"Edit This Page"},"github":{"url":"https://github.com/uncovertruth/docs.userdive.com/"},"gtm":{"token":"GTM-MQHFVQ"},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{}};
    gitbook.start(config);
});</script></body></html>